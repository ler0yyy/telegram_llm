#  Telegram Bot —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ª–æ–∫–∞–ª—å–Ω–æ–π LLM

<div align="center">

*–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–µ —è–∑—ã–∫–æ–≤—ã–µ –º–æ–¥–µ–ª–∏ —á–µ—Ä–µ–∑ LM Studio –¥–ª—è –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞*

[![Python](https://img.shields.io/badge/Python-3.8%2B-blue?logo=python)](https://python.org)
[![Telegram](https://img.shields.io/badge/Telegram-Bot-blue?logo=telegram)](https://telegram.org)
[![LM Studio](https://img.shields.io/badge/LM%20Studio-ü§ñ-green)](https://lmstudio.ai)

</div>

##  –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ—Ç –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –±–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–æ–∫–∞–ª—å–Ω—É—é —è–∑—ã–∫–æ–≤—É—é –º–æ–¥–µ–ª—å —á–µ—Ä–µ–∑ **LM Studio** –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤ —Å –ø–æ–ª–Ω—ã–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–∏–∞–ª–æ–≥–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. 

 **–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
-  –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏ —Å –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
-  –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –∏—Å—Ç–æ—Ä–∏–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
-  –ö–æ–º–∞–Ω–¥–∞ –æ—á–∏—Å—Ç–∫–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
-  –õ–æ–∫–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö (–ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å)
-  –ë—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã –±–µ–∑ –æ–±–ª–∞—á–Ω—ã—Ö API

##  –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Python 3.8+**
- **–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π LM Studio**
- **–ê–∫–∫–∞—É–Ω—Ç –≤ Telegram**
- **–ú–æ–¥–µ–ª—å LLM** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è `Qwen2.5-1.5B-Instruct` –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è)

##  –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install python-telegram-bot==20.7 requests nest_asyncio
```

–®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ LM Studio
 –°–∫–∞—á–∞–π—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ LM Studio —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞

 –ó–∞–≥—Ä—É–∑–∏—Ç–µ –º–æ–¥–µ–ª—å:

–û—Ç–∫—Ä–æ–π—Ç–µ LM Studio

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤–æ –≤–∫–ª–∞–¥–∫—É "Discover"

–ù–∞–π–¥–∏—Ç–µ –∏ —Å–∫–∞—á–∞–π—Ç–µ –º–æ–¥–µ–ª—å Qwen2.5-1.5B-Instruct-GGUF

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤—ã–±–∏—Ä–∞—Ç—å –º–æ–¥–µ–ª–∏ —Å —Å—É—Ñ—Ñ–∏–∫—Å–æ–º -Instruct –¥–ª—è –ª—É—á—à–µ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

 –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä:

–í–æ –≤–∫–ª–∞–¥–∫–µ "Local Server" –≤—ã–±–µ—Ä–∏—Ç–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ 1234

–ù–∞–∂–º–∏—Ç–µ "Start Server"

–î–æ–∂–¥–∏—Ç–µ—Å—å —Å–æ–æ–±—â–µ–Ω–∏—è: "Success! HTTP server listening on port 1234"

–®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ Telegram –±–æ—Ç–∞
–ù–∞–π–¥–∏—Ç–µ –≤ Telegram @BotFather

–û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É /newbot

–í–≤–µ–¥–∏—Ç–µ –∏–º—è –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: MyContextBot)

–ü–æ–ª—É—á–∏—Ç–µ API —Ç–æ–∫–µ–Ω (—Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –µ–≥–æ!)

–®–∞–≥ 4: –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ –≤ Jupyter Notebook
–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ñ–∞–π–ª .ipynb –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —è—á–µ–π–∫–∏:

 –Ø—á–µ–π–∫–∞ 1: –ò–º–ø–æ—Ä—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
python
import requests
import logging
import nest_asyncio
from telegram import Update
from telegram.ext import Application, CommandHandler, MessageHandler, filters, ContextTypes

# –ü—Ä–∏–º–µ–Ω—è–µ–º nest_asyncio –¥–ª—è Jupyter
nest_asyncio.apply()

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏
LM_STUDIO_API_URL = "http://127.0.0.1:1234/v1/chat/completions"
TELEGRAM_BOT_TOKEN = "–í–ê–®_–¢–û–ö–ï–ù_–ó–î–ï–°–¨"  #  –ó–ê–ú–ï–ù–ò–¢–ï –ù–ê –í–ê–® –¢–û–ö–ï–ù –ò–ó BOTFATHER

# –•—Ä–∞–Ω–∏–ª–∏—â–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
user_contexts = {}

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
logging.basicConfig(
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    level=logging.INFO
)
(–ü–æ–ª–Ω—ã–π –∫–æ–¥ —Ñ—É–Ω–∫—Ü–∏–π –±–æ—Ç–∞ –∏ –∑–∞–ø—É—Å–∫–∞ –±—É–¥–µ—Ç –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —è—á–µ–π–∫–∞—Ö)

–®–∞–≥ 5: –ó–∞–ø—É—Å–∫
 –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ LM Studio –∑–∞–ø—É—â–µ–Ω –∏ —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 1234

 –ó–∞–º–µ–Ω–∏—Ç–µ "–í–ê–®_–¢–û–ö–ï–ù_–ó–î–ï–°–¨" –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω –∏–∑ BotFather

 –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Å–µ —è—á–µ–π–∫–∏ –≤ Jupyter Notebook

 –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É –≤ Telegram —Å–ª–µ–¥—É—é—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è:

```text
/start
–ú–µ–Ω—è –∑–æ–≤—É—Ç –ê–ª–µ–∫—Å–∞–Ω–¥—Ä
–Ø –∂–∏–≤—É –≤ –ú–æ—Å–∫–≤–µ
–ö–∞–∫ –º–µ–Ω—è –∑–æ–≤—É—Ç –∏ –≥–¥–µ —è –∂–∏–≤—É?
/clear
–ö–∞–∫ –º–µ–Ω—è –∑–æ–≤—É—Ç?
```
